[gd_scene load_steps=29 format=3 uid="uid://c6f2ne5a7bt3q"]

[ext_resource type="PackedScene" uid="uid://cpsaxvvwqv80r" path="res://InfiniteRunner/player.tscn" id="1_80nbo"]
[ext_resource type="Script" uid="uid://bwdwlcdi8a5uv" path="res://InfiniteRunner/game.gd" id="1_il46p"]
[ext_resource type="PackedScene" uid="uid://conrbq51bavyd" path="res://InfiniteRunner/victory_zone.tscn" id="2_wvhkt"]
[ext_resource type="Script" uid="uid://c737iytpo1tcy" path="res://InfiniteRunner/spawn_manager.gd" id="3_ap7sh"]
[ext_resource type="Texture2D" uid="uid://cucvbxut5oy0h" path="res://InfiniteRunner/background.jpg" id="3_nrq3g"]
[ext_resource type="PackedScene" uid="uid://do7e5w6gcwj3h" path="res://Utils/Screenshake/screenshake_system.tscn" id="3_ra7kr"]
[ext_resource type="Texture2D" uid="uid://cwgknrfg01x7r" path="res://AssetsGraficos/CalleFrames/frame_0001.png" id="4_bnhrn"]
[ext_resource type="Script" uid="uid://c48yllnquaabm" path="res://InfiniteRunner/fake_parallax.gd" id="4_mrh2u"]
[ext_resource type="PackedScene" uid="uid://sfd0wb0psukv" path="res://InfiniteRunner/obstaculo.tscn" id="4_om5vi"]
[ext_resource type="PackedScene" uid="uid://kni1jaxbgxbf" path="res://InfiniteRunner/background_entity.tscn" id="5_860g3"]
[ext_resource type="Texture2D" uid="uid://erb3q2a4ap4j" path="res://AssetsGraficos/CalleFrames/frame_0002.png" id="5_iq2aq"]
[ext_resource type="Script" uid="uid://cxe08aqxdl706" path="res://InfiniteRunner/difficulty_manager.gd" id="5_x6vg1"]
[ext_resource type="PackedScene" uid="uid://wef6l6jwd6gy" path="res://InfiniteRunner/bache.tscn" id="6_dqqyf"]
[ext_resource type="Texture2D" uid="uid://dkftdxmdeg5v6" path="res://AssetsGraficos/CalleFrames/frame_0003.png" id="6_ibaw4"]
[ext_resource type="Script" uid="uid://s0bew6e002i5" path="res://InfiniteRunner/ui.gd" id="6_yhjm0"]
[ext_resource type="Texture2D" uid="uid://1622nsru0sms" path="res://AssetsGraficos/CalleFrames/frame_0004.png" id="7_65x7h"]
[ext_resource type="PackedScene" uid="uid://5pjg1nq0lyrd" path="res://InfiniteRunner/warning_alert.tscn" id="8_b8mj7"]
[ext_resource type="Texture2D" uid="uid://d2k8n5u1kcfph" path="res://AssetsGraficos/Decorations/Blue heart.png" id="10_0vmfc"]
[ext_resource type="Texture2D" uid="uid://b0ybrr8bqb2f5" path="res://AssetsGraficos/Decorations/White heart.png" id="11_b8mj7"]
[ext_resource type="Texture2D" uid="uid://d4lli8fkojif2" path="res://AssetsGraficos/Decorations/Speedometer.png" id="12_mrh2u"]
[ext_resource type="Texture2D" uid="uid://dugv237y2et1q" path="res://AssetsGraficos/Decorations/Indicator.png" id="13_860g3"]

[sub_resource type="SpriteFrames" id="SpriteFrames_5rg66"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_bnhrn")
}, {
"duration": 1.0,
"texture": ExtResource("5_iq2aq")
}, {
"duration": 1.0,
"texture": ExtResource("6_ibaw4")
}, {
"duration": 1.0,
"texture": ExtResource("7_65x7h")
}],
"loop": true,
"name": &"play",
"speed": 5.0
}]

[sub_resource type="Curve2D" id="Curve2D_860g3"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 36, 7, 0, 0, 0, 0, 180, 2)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_ra7kr"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 977, 7, 0, 0, 0, 0, 1114, 6)
}
point_count = 2

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_e2o6t"]

[sub_resource type="Curve2D" id="Curve2D_il46p"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 294, 2, 0, 0, 0, 0, 885, 4)
}
point_count = 2

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ra7kr"]
bg_color = Color(0.27450982, 0.27450982, 0.27450982, 0.63529414)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_sofm7"]
bg_color = Color(0.46138048, 0.61905384, 0.99058205, 1)
corner_radius_top_left = 5
corner_radius_top_right = 5
corner_radius_bottom_right = 5
corner_radius_bottom_left = 5

[node name="Game" type="Node2D"]
script = ExtResource("1_il46p")
victoryZoneScene = ExtResource("2_wvhkt")

[node name="ScreenshakeSystem" parent="." node_paths=PackedStringArray("camara") instance=ExtResource("3_ra7kr")]
camara = NodePath("../Camera2D")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(574, 315.5)
scale = Vector2(0.6274725, 0.61621094)
sprite_frames = SubResource("SpriteFrames_5rg66")
animation = &"play"
frame_progress = 0.46167547

[node name="Background" type="Sprite2D" parent="."]
visible = false
position = Vector2(575.00006, 323)
scale = Vector2(0.896875, 0.8944444)
texture = ExtResource("3_nrq3g")

[node name="FakeParallax" type="Node2D" parent="."]
script = ExtResource("4_mrh2u")
npc = ExtResource("5_860g3")

[node name="NPCSpawn" type="Timer" parent="FakeParallax"]
autostart = true

[node name="Path1" type="Path2D" parent="FakeParallax"]
curve = SubResource("Curve2D_860g3")

[node name="PathFollow2D" type="PathFollow2D" parent="FakeParallax/Path1"]
position = Vector2(36, 7)
rotation = -0.034708276

[node name="Path2" type="Path2D" parent="FakeParallax"]
curve = SubResource("Curve2D_ra7kr")

[node name="PathFollow2D" type="PathFollow2D" parent="FakeParallax/Path2"]
position = Vector2(977, 7)
rotation = -0.0072991406

[node name="Player" parent="." instance=ExtResource("1_80nbo")]
position = Vector2(573, 449)

[node name="Limites" type="Node2D" parent="."]

[node name="LimIzq" type="StaticBody2D" parent="Limites"]
position = Vector2(257, 101)
rotation = 1.5708

[node name="CollisionShape2D" type="CollisionShape2D" parent="Limites/LimIzq"]
shape = SubResource("WorldBoundaryShape2D_e2o6t")
metadata/_edit_lock_ = true

[node name="LimDer" type="StaticBody2D" parent="Limites"]
position = Vector2(897, 103)
rotation = 4.71239

[node name="CollisionShape2D" type="CollisionShape2D" parent="Limites/LimDer"]
shape = SubResource("WorldBoundaryShape2D_e2o6t")
metadata/_edit_lock_ = true

[node name="SpawnManager" type="Node2D" parent="."]
position = Vector2(-11, 7)
script = ExtResource("3_ap7sh")
obstacleScenesArray = Array[PackedScene]([ExtResource("4_om5vi"), ExtResource("6_dqqyf")])
warningScene = ExtResource("8_b8mj7")

[node name="SpawnTimer" type="Timer" parent="SpawnManager"]
wait_time = 3.0
autostart = true

[node name="Path2D" type="Path2D" parent="SpawnManager"]
curve = SubResource("Curve2D_il46p")

[node name="PathFollow2D" type="PathFollow2D" parent="SpawnManager/Path2D"]
position = Vector2(294, 2)
rotation = 0.0033840819

[node name="DifficultyManager" type="Node2D" parent="."]
script = ExtResource("5_x6vg1")

[node name="DifficultyUpTimer" type="Timer" parent="DifficultyManager"]
wait_time = 0.5
autostart = true

[node name="UI" type="CanvasLayer" parent="."]
script = ExtResource("6_yhjm0")

[node name="ColorRect" type="Panel" parent="UI"]
offset_left = 230.0
offset_top = 569.0
offset_right = 922.0
offset_bottom = 634.0
theme_override_styles/panel = SubResource("StyleBoxFlat_ra7kr")

[node name="TimerBar" type="ProgressBar" parent="UI/ColorRect"]
layout_mode = 0
offset_left = 221.0
offset_top = 17.0
offset_right = 452.0
offset_bottom = 44.0
theme_override_styles/background = SubResource("StyleBoxFlat_sofm7")
rounded = true

[node name="HeartContainer" type="HBoxContainer" parent="UI/ColorRect"]
layout_mode = 0
offset_left = 15.0
offset_top = 11.0
offset_right = 149.0
offset_bottom = 51.0

[node name="TextureRect" type="TextureRect" parent="UI/ColorRect/HeartContainer"]
layout_mode = 2
texture = ExtResource("10_0vmfc")
expand_mode = 2

[node name="TextureRect2" type="TextureRect" parent="UI/ColorRect/HeartContainer"]
layout_mode = 2
texture = ExtResource("11_b8mj7")
expand_mode = 2

[node name="TextureRect3" type="TextureRect" parent="UI/ColorRect/HeartContainer"]
layout_mode = 2
texture = ExtResource("10_0vmfc")
expand_mode = 2

[node name="SpeedMeter" type="Node2D" parent="UI/ColorRect"]

[node name="Speedometer" type="Sprite2D" parent="UI/ColorRect/SpeedMeter"]
position = Vector2(614, 38.000004)
scale = Vector2(0.39453122, 0.4238281)
texture = ExtResource("12_mrh2u")

[node name="Indicator" type="Sprite2D" parent="UI/ColorRect/SpeedMeter"]
position = Vector2(614.99994, 42.000015)
scale = Vector2(0.26171875, 0.31249988)
texture = ExtResource("13_860g3")

[node name="VictoryTimer" type="Timer" parent="."]
wait_time = 30.0
autostart = true

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(571, 318)

[connection signal="timeout" from="FakeParallax/NPCSpawn" to="FakeParallax" method="_on_npc_spawn_timeout"]
[connection signal="timeout" from="SpawnManager/SpawnTimer" to="SpawnManager" method="_on_spawn_timer_timeout"]
[connection signal="timeout" from="DifficultyManager/DifficultyUpTimer" to="DifficultyManager" method="_on_difficulty_up_timer_timeout"]
[connection signal="timeout" from="VictoryTimer" to="." method="_on_victory_timer_timeout"]
